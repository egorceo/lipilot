import{P as f,a as b,L as I}from"./index-DUzzxDJg.js";import{r as o,j as e,c as R,R as A}from"./client-D7f9BLy3.js";import{g as L,a as C,s as T,c as z}from"./storage-BROYPw1S.js";import{t as B}from"./llm-client-CDVh1Nha.js";function E(){const[i,s]=o.useState({llmProvider:"openai",apiKey:"",model:"gpt-4o",persona:"",enableEmojis:!1,languageLevel:"fluent",enableImageAnalysis:!1,serviceDescription:""}),[l,u]=o.useState([]),[d,x]=o.useState(!1),[y,c]=o.useState(!1),[g,h]=o.useState(!1),[a,p]=o.useState(null);o.useEffect(()=>{L().then(n=>s(n)),C().then(n=>u(n))},[]);const v=n=>{const r=f[n];s(w=>({...w,llmProvider:n,model:r[0].value})),p(null)},m=async()=>{x(!0),c(!1),await T(i),c(!0),x(!1),setTimeout(()=>c(!1),3e3)},j=async()=>{h(!0),p(null);const n=await B(i.llmProvider,i.apiKey,i.model);p(n),h(!1)},S=async()=>{await z(),u([])},k=f[i.llmProvider]||[];return e.jsx("div",{style:t.container,children:e.jsxs("div",{style:t.wrapper,children:[e.jsxs("div",{style:t.header,children:[e.jsx("div",{style:t.iconWrapper,children:e.jsx("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2",children:e.jsx("path",{d:"M12 2a2 2 0 0 1 2 2c0 .74-.4 1.39-1 1.73V7h1a7 7 0 0 1 7 7h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1v1a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-1H2a1 1 0 0 1-1-1v-3a1 1 0 0 1 1-1h1a7 7 0 0 1 7-7h1V5.73c-.6-.34-1-.99-1-1.73a2 2 0 0 1 2-2z"})})}),e.jsx("h1",{style:t.title,children:"LiPilot Settings"}),e.jsx("p",{style:t.subtitle,children:"Configure your AI-powered LinkedIn assistant"})]}),e.jsxs("div",{style:t.card,children:[e.jsxs("div",{style:t.section,children:[e.jsx("label",{style:t.label,children:"LLM Provider"}),e.jsx("div",{style:t.providerGrid,children:Object.keys(b).map(n=>e.jsx("button",{onClick:()=>v(n),style:{...t.providerButton,...i.llmProvider===n?t.providerButtonActive:{}},children:b[n]},n))})]}),e.jsxs("div",{style:t.section,children:[e.jsx("label",{style:t.label,children:"API Key"}),e.jsxs("div",{style:t.apiKeyRow,children:[e.jsx("input",{type:"password",value:i.apiKey,onChange:n=>s(r=>({...r,apiKey:n.target.value})),placeholder:`Enter your ${b[i.llmProvider]} API key`,style:t.input}),e.jsx("button",{onClick:j,disabled:g||!i.apiKey,style:{...t.testButton,opacity:g||!i.apiKey?.5:1},children:g?"Testing...":"Test"})]}),a&&e.jsx("div",{style:{...t.testResult,background:a.success?"rgba(34, 197, 94, 0.1)":"rgba(239, 68, 68, 0.1)",borderColor:a.success?"rgba(34, 197, 94, 0.3)":"rgba(239, 68, 68, 0.3)",color:a.success?"#4ade80":"#fca5a5"},children:a.success?"Connection successful!":a.error||"Connection failed"})]}),e.jsxs("div",{style:t.section,children:[e.jsx("label",{style:t.label,children:"Model"}),e.jsx("select",{value:i.model,onChange:n=>s(r=>({...r,model:n.target.value})),style:t.select,children:k.map(n=>e.jsx("option",{value:n.value,children:n.label},n.value))})]}),e.jsx("div",{style:t.divider}),e.jsxs("div",{style:t.section,children:[e.jsx("label",{style:t.label,children:"Persona"}),e.jsx("p",{style:t.hint,children:"Describe yourself, your role, expertise, and communication style. This helps the AI generate comments that sound like you."}),e.jsx("textarea",{value:i.persona,onChange:n=>s(r=>({...r,persona:n.target.value})),placeholder:"e.g., I'm a startup founder building AI tools for marketing. I speak directly, avoid buzzwords, and love sharing practical insights from my experience...",rows:5,style:t.textarea})]}),e.jsxs("div",{style:t.section,children:[e.jsx("label",{style:t.label,children:"Language Level"}),e.jsx("select",{value:i.languageLevel,onChange:n=>s(r=>({...r,languageLevel:n.target.value})),style:t.select,children:I.map(n=>e.jsxs("option",{value:n.value,children:[n.label," — ",n.description]},n.value))})]}),e.jsxs("div",{style:t.section,children:[e.jsxs("div",{style:t.toggleRow,children:[e.jsxs("div",{children:[e.jsx("div",{style:t.toggleLabel,children:"Enable Emojis"}),e.jsx("div",{style:t.toggleHint,children:"Allow emojis in generated comments"})]}),e.jsx("button",{onClick:()=>s(n=>({...n,enableEmojis:!n.enableEmojis})),style:{...t.toggle,background:i.enableEmojis?"linear-gradient(135deg, #0a66c2, #00a0dc)":"rgba(255,255,255,0.1)"},children:e.jsx("span",{style:{...t.toggleKnob,transform:i.enableEmojis?"translateX(20px)":"translateX(0)"}})})]}),e.jsxs("div",{style:{...t.toggleRow,marginTop:16},children:[e.jsxs("div",{children:[e.jsx("div",{style:t.toggleLabel,children:"Image Analysis"}),e.jsx("div",{style:t.toggleHint,children:"Analyze images attached to posts for better context"})]}),e.jsx("button",{onClick:()=>s(n=>({...n,enableImageAnalysis:!n.enableImageAnalysis})),style:{...t.toggle,background:i.enableImageAnalysis?"linear-gradient(135deg, #0a66c2, #00a0dc)":"rgba(255,255,255,0.1)"},children:e.jsx("span",{style:{...t.toggleKnob,transform:i.enableImageAnalysis?"translateX(20px)":"translateX(0)"}})})]})]}),e.jsxs("div",{style:t.section,children:[e.jsxs("label",{style:t.label,children:["Service Description ",e.jsx("span",{style:t.optional,children:"(optional)"})]}),e.jsx("p",{style:t.hint,children:"Describe your service or product. When enabled during comment generation, the AI will subtly weave in a mention of your expertise."}),e.jsx("textarea",{value:i.serviceDescription,onChange:n=>s(r=>({...r,serviceDescription:n.target.value})),placeholder:"e.g., We help B2B SaaS companies increase qualified leads by 3x using AI-powered outbound...",rows:3,style:t.textarea})]}),e.jsx("div",{style:t.divider}),e.jsxs("div",{style:t.section,children:[e.jsxs("div",{style:t.learnedHeader,children:[e.jsxs("div",{children:[e.jsx("label",{style:t.label,children:"Learned Preferences"}),e.jsx("p",{style:t.hint,children:"The AI learns from your edits to improve future suggestions."})]}),l.length>0&&e.jsx("button",{onClick:S,style:t.clearButton,children:"Clear All"})]}),l.length===0?e.jsx("div",{style:t.emptyState,children:"No learned preferences yet. The AI will learn as you edit and use its suggestions."}):e.jsx("div",{style:t.observationsList,children:l.map((n,r)=>e.jsxs("div",{style:t.observationItem,children:[e.jsx("div",{style:t.observationText,children:n.text}),e.jsx("div",{style:t.observationTime,children:new Date(n.timestamp).toLocaleDateString()})]},r))})]}),e.jsx("button",{onClick:m,disabled:d,style:{...t.saveButton,opacity:d?.7:1},children:d?"Saving...":y?"Saved!":"Save Settings"})]}),e.jsxs("div",{style:t.footer,children:[e.jsx("span",{children:"Supported by "}),e.jsx("a",{href:"https://travel-code.com/",target:"_blank",rel:"noopener noreferrer",style:t.footerLink,children:"Travel Code"}),e.jsx("span",{children:" — AI-powered corporate travel platform"})]})]})})}const t={container:{minHeight:"100vh",padding:"48px 16px",background:"linear-gradient(135deg, #0f172a 0%, #1e1b4b 50%, #0f172a 100%)",fontFamily:"'Inter', 'Outfit', -apple-system, BlinkMacSystemFont, sans-serif"},wrapper:{maxWidth:640,margin:"0 auto"},header:{textAlign:"center",marginBottom:40},iconWrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:64,height:64,borderRadius:16,background:"linear-gradient(135deg, #0a66c2 0%, #00a0dc 100%)",marginBottom:20,boxShadow:"0 8px 32px rgba(10, 102, 194, 0.3)"},title:{fontSize:28,fontWeight:700,color:"#fff",margin:"0 0 8px"},subtitle:{fontSize:16,color:"#9ca3af",margin:0},card:{background:"rgba(255,255,255,0.05)",backdropFilter:"blur(20px)",borderRadius:20,border:"1px solid rgba(255,255,255,0.1)",padding:32,boxShadow:"0 25px 50px -12px rgba(0,0,0,0.5)"},section:{marginBottom:24},label:{display:"block",fontSize:13,fontWeight:600,color:"#e5e7eb",marginBottom:8,textTransform:"uppercase",letterSpacing:"0.5px"},hint:{fontSize:12,color:"#6b7280",marginBottom:8,lineHeight:1.5},optional:{fontWeight:400,color:"#6b7280",fontSize:11,textTransform:"none"},providerGrid:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:8},providerButton:{padding:"12px 8px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:10,color:"#9ca3af",fontSize:13,fontWeight:500,cursor:"pointer",transition:"all 0.2s"},providerButtonActive:{background:"rgba(10,102,194,0.2)",borderColor:"#0a66c2",color:"#60a5fa",fontWeight:600},apiKeyRow:{display:"flex",gap:8},input:{flex:1,padding:"10px 14px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:10,color:"#fff",fontSize:14,outline:"none",fontFamily:"inherit"},select:{width:"100%",padding:"10px 14px",background:"#1a1a2e",border:"1px solid rgba(255,255,255,0.1)",borderRadius:10,color:"#fff",fontSize:14,cursor:"pointer",outline:"none",fontFamily:"inherit"},textarea:{width:"100%",padding:"10px 14px",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:10,color:"#fff",fontSize:14,fontFamily:"inherit",resize:"vertical",lineHeight:1.6,outline:"none",boxSizing:"border-box"},testButton:{padding:"10px 20px",background:"rgba(255,255,255,0.1)",border:"1px solid rgba(255,255,255,0.15)",borderRadius:10,color:"#fff",fontSize:13,fontWeight:500,cursor:"pointer",whiteSpace:"nowrap"},testResult:{marginTop:8,padding:"8px 12px",borderRadius:8,border:"1px solid",fontSize:13},divider:{height:1,background:"rgba(255,255,255,0.08)",margin:"28px 0"},toggleRow:{display:"flex",alignItems:"center",justifyContent:"space-between"},toggleLabel:{fontSize:14,fontWeight:500,color:"#e5e7eb"},toggleHint:{fontSize:12,color:"#6b7280",marginTop:2},toggle:{width:44,height:24,borderRadius:12,border:"none",cursor:"pointer",position:"relative",transition:"background 0.2s",flexShrink:0},toggleKnob:{position:"absolute",top:2,left:2,width:20,height:20,borderRadius:"50%",background:"#fff",transition:"transform 0.2s",display:"block"},learnedHeader:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",gap:16},clearButton:{padding:"6px 12px",background:"transparent",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:6,color:"#ef4444",fontSize:12,cursor:"pointer",whiteSpace:"nowrap",flexShrink:0,marginTop:2},emptyState:{padding:20,textAlign:"center",color:"#6b7280",fontSize:13,background:"rgba(255,255,255,0.03)",borderRadius:10,border:"1px dashed rgba(255,255,255,0.1)"},observationsList:{display:"flex",flexDirection:"column",gap:8,marginTop:8},observationItem:{padding:"10px 12px",background:"rgba(255,255,255,0.05)",borderRadius:8,border:"1px solid rgba(255,255,255,0.08)"},observationText:{fontSize:13,color:"#d1d5db",lineHeight:1.5},observationTime:{fontSize:11,color:"#6b7280",marginTop:4},saveButton:{width:"100%",padding:"14px 24px",background:"linear-gradient(135deg, #0a66c2 0%, #0077b5 100%)",border:"none",borderRadius:12,color:"#fff",fontSize:16,fontWeight:600,cursor:"pointer",transition:"all 0.2s",boxShadow:"0 4px 16px rgba(10, 102, 194, 0.3)"},footer:{marginTop:32,textAlign:"center",fontSize:13,color:"#6b7280"},footerLink:{color:"#9ca3af",fontWeight:600,textDecoration:"none"}};R.createRoot(document.getElementById("root")).render(e.jsx(A.StrictMode,{children:e.jsx(E,{})}));

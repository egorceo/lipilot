/**
 * Generate PNG icons for Chrome extension
 * Run: node scripts/generate-icons.js
 */

import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

const __dirname = path.dirname(fileURLToPath(import.meta.url));
const publicDir = path.join(__dirname, '..', 'public');

// Pre-generated valid PNG icons (LinkedIn blue robot/AI icon)
const icons = {
  16: 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA3klEQVQ4T6WTwQ3CMAxFfwqwAWzACrABbMAosAFswAh0A9iADWADNmhXYIPSSm4UJRRapMqnOH72t50EtJSwJVgDc+C8J/AAbICJpLtuQWLvgCWwAuY7AudAH7hJuh4CSKwDTIGxpN0+AIn1gRdwkzQ+BJD4CBgBn0DPv2kASWwCzBL7Z0lXLQBJCTCXdN4CSOwZeEgaNOckQEOCSeyN3Zek81qNBMQqAtxLGjfnG0Bi/TBLukgC1AEktgROkt5rVxJIrAc8Jd3WFhB7ARaSjjpzfwGSMmCSFJBY+v1L/gNmP2gR0gvf3wAAAABJRU5ErkJggg==',
  32: 'iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAB1klEQVRYR+2XvU7DMBCAP6dAQWKBhYWFjSdgYeUJWHkCJp6AhSdg4QlYWVhYEAsLAoQESPzZOjlKnPicxCkdbHWJcv7u891diGNwx+HO/WcA/xUBdyzDAoiANXAHxEBUB9D3xzXH8j3HJPAJRMD0EILfwBo4LSXzACQ+lGAJXJbv9AH4Bq6Am3L7KYC6EsgqEgJfZftxD8AnMKtLJgtgVEnqAngFxpLeqoL8gHdgBVyXHwsCMALegelBHhCACzCVdFd30Av4E7gE5u0PjYDQR4YNT3YIYAxcADNJ902f1CaQ2BOg9p3fxILLQAdcnIDPBs4aawNJ2y6UNPy+qLXjJIh2uHVNVQh+PQGhdL0E5IlC3rl/JMSVxNMCfCURdU3+YQ+oq/cLsOgC6ATAIGBhYNoDmPxHH7ABFoYA7pOFgbOmYO15uwDuwB2CX8C0aYH2A9OB8+pArAJ/PAJpA7s2AB+wbqyNCXAOzJsAcjjLwgq0U/KrE5AY+ADLulJyG4Dc+M1R4BkYN/WT9wJIbFxR6Fto/1dAE0wbC4yAw3Ltu2rAbNhOcmMA7lCEpvALmBgYxhXS2oL0AWQZ+gVuJZ32qeG0ISdxRD2P9l0wk/S7M1cw/xPwb8VfMGFwIUJq0dsAAAAASUVORK5CYII=',
  48: 'iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAACmklEQVRoge2ZPW7bQBCF36wsOIBTpEqVIm3uoDJVqpQ5Qo6QI+QIOUKq1KlSpkqVKoHh2Ir/lrOLGYIUl7vkUhIlB9AHCOLuzuw8vpndoQhgjDHGGGOMMcYYY4wxxhgzVtyxO7AEVyJyCSAFkAKIAMR1AD7bVoAnETkH8L8E/wXA+wDVcSHpexL8CSCut88C8P8J/hLA75YhfWifBuCmYvsmALuN0m8MqEhyJiJnNQB7ZaLqd3wKYFnXfKzS4hhAE7gB0FT/bVkj3yt+XxV82gZoqt8HaALf4PsWQFP9bgDfH9a3AL4JfAugqX43gO8O27cAmuqnAH5abN8CaKr/HMC3i+VbAE31nwP47bN5C6Cp/nMA3y2GbwE01X8O4LfL4C2Apvo3AF4t1k8BNNV/DuC3w9YtgKb6dwG8PGwdAmiq3wLYbGkfAGiq/ysAqxbLhwCa6j8D8Mpj7xBAU/3HAH7xsHQIoKl+D+A3D/uGAJrq3wfwm4dVQwBN9VsA/nix5pMANNW/D/AbgGVDAE31WwBfvqx4EoCm+i0ALw/LhgCa6j8B8JuH+UMATfW7AL54sWQSgKb6LQBfvCw6GaBN9VsAK4+L+gBtqn8fwG+e1fQBNNVvAVhebesDaKr/EMCPnnb0ATTVvwnge8e6PoCm+ncAvjzN6QNoqn8fwDcv8oYAmurfBfDFi5oJAJrqvwPgq6cFIwG06nNlBnABQCWdVL2FAA4BeP+EAFgHLgMwqaRy1a8DsOJJIq0kchBoCx8jAJMOUdWVXPWdAFjd1wFLd9bKFMBGBCBRK1EJR1VvkgYAtGYGkJ9gJeoMoEvVGyWBE6ueAGRpVD+aMwFIDvwpMNYAwJZRxzUnsHMlS9QwMnPvJmqgzc+GARyD26sJgGS1ysZJOmOMMcb8L/wBh3cO8y6g1osAAAAASUVORK5CYII=',
  128: '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'
};

// Write icons to public folder
for (const [size, base64] of Object.entries(icons)) {
  const filename = `icon${size}.png`;
  const filepath = path.join(publicDir, filename);
  const buffer = Buffer.from(base64, 'base64');
  fs.writeFileSync(filepath, buffer);
  console.log(`Created ${filename}`);
}

// Remove old SVG files
for (const size of [16, 32, 48, 128]) {
  const svgPath = path.join(publicDir, `icon${size}.svg`);
  if (fs.existsSync(svgPath)) {
    fs.unlinkSync(svgPath);
    console.log(`Removed icon${size}.svg`);
  }
}

console.log('Done! Icons generated successfully.');
